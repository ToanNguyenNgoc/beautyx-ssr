"use strict";var _Api=_interopRequireDefault(require("./Api"));Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var proxyMaxApi={},initApiPromise=null,promiseResolve=null,handler={get:function get(a,b){var c=this;return this[b]?"function"==typeof this[b]?this[b].bind(this):this[b]:proxyMaxApi[b]?"function"==typeof proxyMaxApi[b]?proxyMaxApi[b].bind(proxyMaxApi):proxyMaxApi[b]:function defaultFunction(){for(var a=arguments.length,d=Array(a),e=0;e<a;e++)d[e]=arguments[e];var f=0<Object.keys(proxyMaxApi).length;f?console.warn("undefined is not a function"):c.waitForInit().then(function(){try{if("function"==typeof proxyMaxApi[b]){var a=proxyMaxApi[b];a.call.apply(a,[proxyMaxApi].concat(d))}else console.warn("Error when calling function: ".concat(b,". ApiBase haven't been initialized yet!"))}catch(a){console.warn("MaxApiError: "+a)}})}},set:function set(a,b,c){return proxyMaxApi[b]=c,!0},init:function init(a){proxyMaxApi=_Api["default"].init(a),!initApiPromise||!promiseResolve||(promiseResolve(!0),initApiPromise=null,promiseResolve=null)},waitForInit:function waitForInit(){return initApiPromise||(initApiPromise=new Promise(function(a,b){promiseResolve=a})),initApiPromise},registerApp:function registerApp(a,b){var c=_Api["default"].registerApp(a,b,function(a){proxyMaxApi=a,!initApiPromise||!promiseResolve||(promiseResolve(!0),initApiPromise=null,promiseResolve=null)});return c}},MaxApi=new Proxy({},handler),_default=MaxApi;exports["default"]=_default;